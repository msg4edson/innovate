<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__d403cbf8496d9110dda6aa3e6db4be11">1803cbf8876d91102840eb173cbb3512</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"d4d7f1624db34fe6a45756f2fa889542","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"d4d7f1624db34fe6a45756f2fa889542"}],"goals":[{"name":"primary","trigger_id":"d4d7f1624db34fe6a45756f2fa889542","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":""},"id":"7e1c6cb8d2f449209da8bec0eeff08af","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"542306aa3c3440359dd82f144998c973","name":"End"},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    return vaSystem.getClosingMessage();\n})()\n"},"id":"7007ea7551f44775bf496cac8517ea4f","name":"Closing Message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ScriptedAction","script":"(function execute() {\n    vaSystem.endConversation();\n})()\n","id":"5c8b568570e24cbe8f6ed4ee89485669","name":"Close Conversation","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"trans: {0}\", vaContext.getRequesterLang(), [vaVars.transcript])"},"id":"2f4c375f8d594afdaf0b832876d95ce4","name":"Print","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a\n       record based on conditional logic:\n\n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    var trans = vaSystem.getTranscript().toString();\n    var regex = /How was your experience chatting with me today/\n    var testValid = trans.match(regex);\n    if(testValid == regex){\n        return true\n    } else{\n        return false;\n    }\n    \n})()\n","id":"3ec8b81e9a71483e8027678a8940e7d3","name":"script","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return true;\n})()\n"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"false","expression":{"type":"Applicability","mode":"query","value":""},"id":"f7a503b1036d4484babe09122a588005","name":"false"},{"type":"Branch","label":"true","expression":{"type":"Applicability","mode":"query","value":""},"id":"eda4f08b60fd43a584986f9f0291bc11","name":"true"}],"id":"9db5fa9c27594b01b942e61623d7206d","goal_id":"primary"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:be38c5f487a591102840eb173cbb35d1:node:4d4e1b87bf2b49fba3871f7b67e3f647:field:Value {0}\", vaContext.getRequesterLang(), [vaVars.transcript])"},"id":"4d4e1b87bf2b49fba3871f7b67e3f647","name":"true","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:be38c5f487a591102840eb173cbb35d1:node:2875eb9cc98f4f4698adc2f8e214840f:field:Value {0}\", vaContext.getRequesterLang(), [vaVars.transcript])"},"id":"2875eb9cc98f4f4698adc2f8e214840f","name":"false","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Test Valid: {0}\", vaContext.getRequesterLang(), [vaVars.testValid])"},"id":"e68590a9840643eabbe1f520f3aa270f","name":"testValid","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false}],"edges":[{"type":"Edge","source_node_id":"3ec8b81e9a71483e8027678a8940e7d3","target_node_id":"9db5fa9c27594b01b942e61623d7206d","id":"62dccce4b91441f2b8f57d24d4e4f857"},{"type":"Edge","source_node_id":"2f4c375f8d594afdaf0b832876d95ce4","target_node_id":"7007ea7551f44775bf496cac8517ea4f","id":"d1b3d00f8c5f49df8e49aecd1b49a264"},{"type":"Edge","source_node_id":"7007ea7551f44775bf496cac8517ea4f","target_node_id":"5c8b568570e24cbe8f6ed4ee89485669","id":"2c70d764fe334a639e3507ac8ea5eb72"},{"type":"Edge","source_node_id":"5c8b568570e24cbe8f6ed4ee89485669","target_node_id":"542306aa3c3440359dd82f144998c973","id":"8efdf5e58f0d4d7f9d39e141719dedb2"},{"type":"Edge","source_node_id":"7e1c6cb8d2f449209da8bec0eeff08af","target_node_id":"3ec8b81e9a71483e8027678a8940e7d3","id":"846e6a8c3a114f57bd18401fe8053750"},{"type":"Edge","source_node_id":"4d4e1b87bf2b49fba3871f7b67e3f647","target_node_id":"2f4c375f8d594afdaf0b832876d95ce4","id":"49f55cd35249407d89dcabdcf2f5b875"},{"type":"Edge","source_node_id":"9db5fa9c27594b01b942e61623d7206d","target_node_id":"2875eb9cc98f4f4698adc2f8e214840f","branch_id":"f7a503b1036d4484babe09122a588005","id":"f2e40451c3784454a8ff3235c42d31fb","name":"f7a503b1036d4484babe09122a588005"},{"type":"Edge","source_node_id":"2875eb9cc98f4f4698adc2f8e214840f","target_node_id":"2f4c375f8d594afdaf0b832876d95ce4","id":"546f838d99bf4c65b67ebbf846c40202"},{"type":"Edge","source_node_id":"9db5fa9c27594b01b942e61623d7206d","target_node_id":"e68590a9840643eabbe1f520f3aa270f","branch_id":"eda4f08b60fd43a584986f9f0291bc11","id":"07854333beaa4a42920f63d98a636ee2","name":"eda4f08b60fd43a584986f9f0291bc11"},{"type":"Edge","source_node_id":"e68590a9840643eabbe1f520f3aa270f","target_node_id":"4d4e1b87bf2b49fba3871f7b67e3f647","id":"981e519a63544279a125c44b198fd7e2"}],"id":"primary"}],"script_variables":[{"type":"String","name":"transcript","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* return 'a default value'; */\n    var transcript = vaSystem.getTranscript();\n    return transcript;\n})()\n"},"list":false,"id":"aaf45f02444e4aa89ed0b5c224db53a1","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"testValid","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Code your scripted action here. For example, you might update a\n       record based on conditional logic:\n\n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    //var topic = vaVars.transcript;\n    var trans = vaSystem.getTranscript().toString();\n    var regex = /How was your experience chatting with me today/\n    var testValid = trans.match(regex);\n    return testValid;\n    // if (trans.match(regex)) {\n    //     return true;\n    // } else {\n    //     return false;\n    // }\n})()"},"list":false,"id":"0d936991eed046e58b33b913a8b58f70","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":["public"],"scope":"eb7c99fb87924110b09f206f8bbb3523","domain":"global","topic_type":"SETUP_TOPIC","channels":[],"id":"be38c5f487a591102840eb173cbb35d1","name":"_PRVW__d403cbf8496d9110dda6aa3e6db4be11","key_phrases":["Closing Conversation"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":false,"readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>be38c5f487a591102840eb173cbb35d1</design_topic_id>
        <name>_PRVW__d403cbf8496d9110dda6aa3e6db4be11</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-08-24 03:35:51</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>e003cbf8876d91102840eb173cbb3515</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="Innovate" source="x_777497_innovate">eb7c99fb87924110b09f206f8bbb3523</sys_package>
        <sys_policy/>
        <sys_scope display_value="Innovate">eb7c99fb87924110b09f206f8bbb3523</sys_scope>
        <sys_update_name>sys_cb_design_topic_e003cbf8876d91102840eb173cbb3515</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-08-24 03:35:51</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
